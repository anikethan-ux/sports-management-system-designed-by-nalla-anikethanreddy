<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>College Sports Management</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
<style>
:root{
  --bg: linear-gradient(135deg,#f0f4ff,#e0f7ff);
  --text:#222;
  --card:#fff;
  --accent:#004aad;
}
*{box-sizing:border-box;margin:0;padding:0}
body{font-family:'Poppins',sans-serif;background:var(--bg);color:var(--text);min-height:100vh}
header{display:flex;align-items:center;justify-content:space-between;padding:14px 26px;background:var(--accent);color:#fff;position:sticky;top:0;z-index:10;box-shadow:0 4px 12px rgba(0,0,0,0.15)}
header h1{font-size:1.4rem;font-weight:700}
nav ul{display:flex;gap:16px;list-style:none}
nav ul li a{color:#fff;text-decoration:none;font-weight:600;cursor:pointer;padding:6px 4px}
nav ul li a.active{border-bottom:3px solid #ffcb05;padding-bottom:3px}
#finishToggle{background:linear-gradient(45deg,#ff6a00,#ffcb05);border:none;color:#fff;padding:8px 12px;border-radius:14px;cursor:pointer;font-weight:700}
#yearToggle{background:#fff;color:#004aad;font-weight:700;padding:6px 10px;border-radius:12px;border:none;cursor:pointer;margin-left:12px}
.container{max-width:1150px;margin:28px auto;padding:0 18px}
section{display:none;padding:22px 0}
section.active{display:block}
.welcome{height:60vh;display:flex;align-items:center;justify-content:center;border-radius:18px;background:linear-gradient(135deg,#1e3c72,#2a5298);color:#fff;text-align:center;box-shadow:0 20px 40px rgba(0,0,0,0.2)}
.welcome .card{background:rgba(255,255,255,0.06);padding:28px;border-radius:18px;max-width:820px}
.btn{background:linear-gradient(45deg,#ffcb05,#ff6a00);border:none;padding:12px 22px;border-radius:999px;color:#fff;font-weight:700;cursor:pointer}
.form-card{background:var(--card);padding:18px;border-radius:16px;max-width:560px;margin:0 auto;box-shadow:0 10px 30px rgba(0,0,0,0.08)}
.form-card input,.form-card select{width:100%;padding:10px;border-radius:10px;border:1px solid #ddd;margin-bottom:12px;font-size:0.95rem}
.form-card button{width:100%;padding:12px;border-radius:12px;border:none;background:linear-gradient(45deg,#004aad,#00c6ff);color:#fff;font-weight:700}
.games{display:flex;flex-wrap:wrap;gap:18px;justify-content:center;margin-bottom:18px}
.game-card{background:var(--card);padding:16px;border-radius:14px;min-width:160px;text-align:center;box-shadow:0 8px 24px rgba(0,0,0,0.08);cursor:pointer}
.game-card img{width:72px;height:72px;object-fit:cover;border-radius:10px;margin-bottom:10px}
.team-table{width:100%;border-collapse:collapse;margin:14px 0;border-radius:12px;overflow:hidden;box-shadow:0 8px 20px rgba(0,0,0,0.06)}
.team-table th{background:var(--accent);color:#fff;padding:10px;font-weight:700}
.team-table td{padding:10px;text-align:center;border-bottom:1px solid #eee;font-weight:600}
.team-table tr.Red{background:#ff4c4c;color:#fff}
.team-table tr.Green{background:#4caf50;color:#fff}
.team-table tr.Yellow{background:#ffeb3b;color:#222}
.team-table tr.Blue{background:#2196f3;color:#fff}
.controls button{margin-right:8px;padding:6px 10px;border-radius:8px;border:none;cursor:pointer;font-weight:700}
.match-card{background:var(--card);padding:12px 16px;border-radius:12px;margin:10px auto;display:flex;justify-content:space-between;align-items:center;max-width:720px;box-shadow:0 8px 20px rgba(0,0,0,0.06)}
.match-card .actions button{margin-left:8px;padding:8px 12px;border-radius:8px;border:none;cursor:pointer}
.standings{max-width:720px;margin:12px auto;padding:12px;border-radius:12px;background:#fff;box-shadow:0 8px 20px rgba(0,0,0,0.04)}
.small-muted{font-size:0.9rem;color:#666;margin-bottom:8px;text-align:center}
.toggle-btn{background:#ffcb05;border:none;color:#222;font-weight:700;padding:8px 14px;border-radius:12px;cursor:pointer;margin-bottom:10px}
.sport-block{margin-bottom:30px;padding:16px;border-radius:16px;background:#f7f7f7;box-shadow:0 6px 18px rgba(0,0,0,0.05);}
.sport-block h3{margin-bottom:12px;color:#004aad;text-align:center}
.champions-history{max-width:720px;margin:0 auto;margin-bottom:30px;padding:16px;border-radius:16px;background:#fff;box-shadow:0 6px 18px rgba(0,0,0,0.05);}
.champions-history h3{text-align:center;margin-bottom:12px;color:#004aad}
@media(max-width:840px){.match-card{flex-direction:column;gap:8px;text-align:center}}
</style>
<link rel="stylesheet" href="style.css">
<!-- VANTA.js Dependencies -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r121/three.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/vanta/dist/vanta.net.min.js"></script>

<!-- Link your updated style.css -->
<link rel="stylesheet" href="style.css">

</head>
<div id="vanta-bg"></div>
<body>



<header>
  <h1>College Sports Management</h1>
  <nav>
    <ul>
      <li><a onclick="showSection('home')" class="active">Home</a></li>
      <li><a onclick="showSection('players')">Players</a></li>
      <li><a onclick="showSection('about')">About</a></li>
      <li><a onclick="showSection('final')">Final Selected</a></li>
      <li><a onclick="showSection('tournament')">Tournament</a></li>
      <li><a onclick="showSection('history')">Champions History</a></li>
    </ul>
  </nav>
  <div>
    <button id="finishToggle">Finish Year</button>
    <select id="yearToggle"></select>
  </div>
</header>

<div class="container">

  <!-- Sections remain unchanged -->
  <section id="home" class="active">
    <div class="welcome">
      <div class="card welcome-card">
        <h1>Welcome to College Sports Management</h1>
        <p class="small-muted">Add players, select final squads, run round-robin tournaments, and track champions history.</p>
        <div style="margin-top:16px">
          <button class="btn" onclick="showSection('players')">Manage Players</button>
        </div>
      </div>
    </div>
  </section>

  <section id="players">
    <h2 style="text-align:center;margin-bottom:12px">Players Management</h2>
    <div class="form-card">
      <form id="playerForm">
        <input id="roll" type="number" placeholder="Roll Number" required />
        <input id="name" type="text" placeholder="Player Name" required />
        <select id="sport" required>
          <option value="">Select Sport</option>
          <option value="Volleyball">Volleyball</option>
          <option value="Basketball">Basketball</option>
          <option value="Cricket">Cricket</option>
          <option value="Football">Football</option>
        </select>
        <select id="team" required>
          <option value="">Select Team</option>
          <option value="Red">Red</option>
          <option value="Green">Green</option>
          <option value="Yellow">Yellow</option>
          <option value="Blue">Blue</option>
        </select>
        <input id="age" type="number" placeholder="Age" required />
        <button type="submit">Add Player</button>
      </form>
    </div>
  </section>

  <section id="about">
    <h2 style="text-align:center;margin-bottom:8px">Players by Game & Team</h2>
    <p class="small-muted">Click a game to view registered players. Use <strong>Select</strong> to move player to Final Selected; <strong>Delete</strong> to remove.</p>
    <div class="games">
      <div class="game-card" data-sport="Volleyball"><img src="volley.jpg" alt="Volleyball"><div>Volleyball</div></div>
      <div class="game-card" data-sport="Basketball"><img src="basket ball.jpg" alt="Basketball"><div>Basketball</div></div>
      <div class="game-card" data-sport="Cricket"><img src="cricket.jpg" alt="Cricket"><div>Cricket</div></div>
      <div class="game-card" data-sport="Football"><img src="football.jpg" alt="Football"><div>Football</div></div>
    </div>
    <div id="sportPlayers"></div>
  </section>

  <section id="final">
    <h2 style="text-align:center;margin-bottom:8px">Final Selected Players</h2>
    <p class="small-muted">Click a game to view final selected players for each team.</p>
    <div class="games">
      <div class="game-card" data-sport="Volleyball"><img src="volley.jpg" alt="Volleyball"><div>Volleyball</div></div>
      <div class="game-card" data-sport="Basketball"><img src="basket ball.jpg" alt="Basketball"><div>Basketball</div></div>
      <div class="game-card" data-sport="Cricket"><img src="cricket.jpg" alt="Cricket"><div>Cricket</div></div>
      <div class="game-card" data-sport="Football"><img src="football.jpg" alt="Football"><div>Football</div></div>
    </div>
    <div id="finalPlayers"></div>
  </section>

  <section id="tournament">
    <h2 style="text-align:center;margin-bottom:8px">Tournament</h2>
    <button class="toggle-btn" id="toggleTournament">Enable Matches</button>
    <p class="small-muted">Teams ranked after round-robin → Qualifier1 & Eliminator → Qualifier2 → Final.</p>
    <div id="tournamentContainer"></div>
  </section>

  <section id="history">
    <h2 style="text-align:center;margin-bottom:8px">Champions History</h2>
    <div id="championsHistory" class="champions-history"></div>
  </section>

</div>

<footer style="margin-top:28px">© 2025 All rights reserved | Designed by Nalla Anikethan Reddy</footer>

<script>
const STORAGE_KEYS = {PLAYERS:'csm_players_v1',FINAL:'csm_final_v1',MATCHES:'csm_matches_v6',STANDINGS:'csm_standings_v6',CHAMPIONS:'csm_champions_v1'};
let players = JSON.parse(localStorage.getItem(STORAGE_KEYS.PLAYERS)||'[]');
let finalSelected = JSON.parse(localStorage.getItem(STORAGE_KEYS.FINAL)||'[]');
let matches = JSON.parse(localStorage.getItem(STORAGE_KEYS.MATCHES)||'{}');
let standings = JSON.parse(localStorage.getItem(STORAGE_KEYS.STANDINGS)||'{}');
let champions = JSON.parse(localStorage.getItem(STORAGE_KEYS.CHAMPIONS)||'[]');
let tournamentEnabled = true;
let selectedYear = new Date().getFullYear();

function savePlayers(){localStorage.setItem(STORAGE_KEYS.PLAYERS, JSON.stringify(players))}
function saveFinal(){localStorage.setItem(STORAGE_KEYS.FINAL, JSON.stringify(finalSelected))}
function saveMatches(){localStorage.setItem(STORAGE_KEYS.MATCHES, JSON.stringify(matches))}
function saveStandings(){localStorage.setItem(STORAGE_KEYS.STANDINGS, JSON.stringify(standings))}
function saveChampions(){localStorage.setItem(STORAGE_KEYS.CHAMPIONS, JSON.stringify(champions))}
function showSection(id){document.querySelectorAll('section').forEach(s=>s.classList.remove('active'));document.getElementById(id)?.classList.add('active');document.querySelectorAll('nav ul li a').forEach(a=>a.classList.remove('active')); const navLink=Array.from(document.querySelectorAll('nav ul li a')).find(x=>x.getAttribute('onclick')?.includes(id));navLink?.classList.add('active');}

/* ===== Player Form ===== */
document.getElementById('playerForm').addEventListener('submit',e=>{
  e.preventDefault(); 
  const roll=document.getElementById('roll').value.trim();
  const name=document.getElementById('name').value.trim();
  const sport=document.getElementById('sport').value;
  const team=document.getElementById('team').value;
  const age=document.getElementById('age').value;
  if(!roll||!name||!sport||!team){alert('Please fill all fields');return;} 
  players.push({roll,name,sport,team,age}); 
  savePlayers(); 
  alert('Player added'); 
  e.target.reset(); 
  renderAbout(sport);
});

/* ===== Render About ===== */
function renderAbout(sport){
  const container=document.getElementById('sportPlayers'); 
  container.innerHTML=`<h3 style="text-align:center;margin-bottom:10px">${sport} Players</h3>`; 
  ['Red','Green','Yellow','Blue'].forEach(team=>{
    const list=players.filter(p=>p.sport===sport && p.team===team); 
    if(!list.length) return; 
    let html=`<h4 style="text-align:center;margin-top:10px">${team} Team</h4><table class="team-table"><thead><tr><th>#</th><th>Roll</th><th>Name</th><th>Team</th><th>Age</th><th>Select</th><th>Delete</th></tr></thead><tbody>`; 
    list.forEach((p,i)=>{html+=`<tr class="${team}"><td>${i+1}</td><td>${p.roll}</td><td>${p.name}</td><td>${p.team}</td><td>${p.age}</td><td><button onclick="selectPlayer('${sport}','${team}','${p.roll}')">Select</button></td><td><button onclick="deletePlayer('${sport}','${team}','${p.roll}')">Delete</button></td></tr>`;}); 
    html+='</tbody></table>'; 
    container.innerHTML+=html;
  }); 
  if(container.innerHTML===`<h3 style="text-align:center;margin-bottom:10px">${sport} Players</h3>`){container.innerHTML+=`<p style="text-align:center;color:#666;margin-top:10px">No registered players for ${sport} yet.</p>`;}
}

/* ===== Final Selection ===== */
window.selectPlayer=(sport,team,roll)=>{const p=players.find(x=>x.roll==roll && x.sport===sport && x.team===team); if(!p)return; if(finalSelected.find(f=>f.roll==roll && f.sport===sport && f.team===team)){alert('Already selected');return;} finalSelected.push(p); saveFinal(); alert(`${p.name} added to final selection`); renderFinal(sport);}
function renderFinal(sport){const div=document.getElementById('finalPlayers'); div.innerHTML=''; const sports=[...new Set(finalSelected.map(p=>p.sport))]; sports.forEach(sp=>{div.innerHTML+=`<h3 style="text-align:center;margin-bottom:10px">${sp} - Final Selected Players</h3>`; let any=false; ['Red','Green','Yellow','Blue'].forEach(team=>{const list=finalSelected.filter(p=>p.sport===sp && p.team===team); if(!list.length)return; any=true; let html=`<h4 style="text-align:center;margin-top:10px">${team} Team</h4><table class="team-table"><thead><tr><th>#</th><th>Roll</th><th>Name</th><th>Team</th><th>Age</th></tr></thead><tbody>`; list.forEach((p,i)=>{html+=`<tr class="${team}"><td>${i+1}</td><td>${p.roll}</td><td>${p.name}</td><td>${p.team}</td><td>${p.age}</td></tr>`;}); html+='</tbody></table>'; div.innerHTML+=html;}); if(!any)div.innerHTML+=`<p style="text-align:center;color:#666">No final selected players for ${sp} yet.</p>`;});}

/* ===== Delete Player ===== */
window.deletePlayer=(sport,team,roll)=>{if(!confirm('Delete this player?'))return; players=players.filter(p=>!(p.roll==roll && p.sport===sport && p.team===team)); finalSelected=finalSelected.filter(p=>!(p.roll==roll && p.sport===sport && p.team===team)); savePlayers(); saveFinal(); renderAbout(sport); renderFinal(sport); renderTournament();}

/* ===== Champions History with Year Filter ===== */
function renderChampionsHistory(){
  const div=document.getElementById('championsHistory'); div.innerHTML=''; 
  const yearChamps=champions.filter(c=>c.year==selectedYear);
  if(!yearChamps.length){div.innerHTML='<p style="text-align:center;color:#666">No champions yet for selected year.</p>'; return;}
  div.innerHTML='<h3>Champions List</h3>';
  yearChamps.forEach(c=>{div.innerHTML+=`<p style="text-align:center;font-weight:700;color:#004aad">${c.year} - ${c.sport}: ${c.champion}</p>`;});
}

/* ===== Yearly Toggle ===== */
const yearSelect=document.getElementById('yearToggle');
const currentYear=new Date().getFullYear();
for(let y=currentYear-5;y<=currentYear+1;y++){const opt=document.createElement('option'); opt.value=y; opt.text=y; if(y===currentYear)opt.selected=true; yearSelect.appendChild(opt);}
yearSelect.addEventListener('change',()=>{selectedYear=parseInt(yearSelect.value); renderChampionsHistory();});

/* ===== Finish Year ===== */
document.getElementById('finishToggle').addEventListener('click',()=>{if(!confirm('Finish year and archive champions?'))return; players=[]; finalSelected=[]; matches={}; standings={}; savePlayers(); saveFinal(); saveMatches(); saveStandings(); renderAbout('Volleyball'); renderFinal('Volleyball'); renderTournament(); renderChampionsHistory(); alert('Year finished. Champions archived.');})

/* ===== Game Card Clicks ===== */
document.querySelectorAll('.game-card').forEach(card=>{card.addEventListener('click',()=>{const sport=card.getAttribute('data-sport'); renderAbout(sport); renderFinal(sport); showSection('about');})})

/* ===== Initial Render ===== */
renderAbout('Volleyball'); renderFinal('Volleyball'); renderTournament(); renderChampionsHistory();
</script>
<script>
// Initialize VANTA.NET background
VANTA.NET({
  el: "#vanta-bg",
  mouseControls: true,
  touchControls: true,
  minHeight: 500.00,
  minWidth: 500.00,
  scale: 1.0,
  scaleMobile: 1.0,
  color: 0x004aad,
  backgroundColor: 0xf2f4f7,
  showDots: true
});
</script>


</body>
</html>
