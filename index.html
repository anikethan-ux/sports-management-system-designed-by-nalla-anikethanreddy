<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>College Sports Management | Nalla Anikethan Reddy</title>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&family=Orbitron:wght@500;700&display=swap" rel="stylesheet">

  <!-- Styles -->
  <style>
    :root{
      --bg-dark: #050512;
      --bg-grad: radial-gradient(circle at 10% 10%, #07102a 0%, #02020a 55%);
      --card: rgba(28,28,54,0.85);
      --accent: #39ff14;
      --secondary-accent: #ff00ff;
      --text: #e6e6f3;
      --muted: rgba(255,255,255,0.18);
    }
    *{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%}
    body{
      font-family:'Poppins',sans-serif;
      background:var(--bg-grad);
      color:var(--text);
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      min-height:100vh;
      overflow-x:hidden;
    }

    #animated-bg {position: fixed; inset: 0; z-index: -5; pointer-events: none;}
    header{display:flex;align-items:center;justify-content:space-between;padding:14px 24px;background: linear-gradient(180deg, rgba(10,10,26,0.6), rgba(10,10,26,0.4));backdrop-filter: blur(6px);border-bottom:1px solid rgba(57,255,20,0.06);position: sticky;top:0;z-index:20;}
    header h1{font-family:'Orbitron',sans-serif;color:var(--accent);font-size:1.4rem;letter-spacing:0.6px;}
    nav ul{display:flex;gap:14px;list-style:none;align-items:center}
    nav ul li a{color:var(--text);text-decoration:none;font-weight:600;padding:8px 12px;border-radius:10px;transition: all .22s;cursor:pointer;}
    nav ul li a:hover{color:var(--bg-dark); background: linear-gradient(90deg,var(--secondary-accent),var(--accent)); box-shadow:0 6px 18px rgba(57,255,20,0.06)}
    nav ul li a.active{background: linear-gradient(90deg,var(--secondary-accent),var(--accent)); color:var(--bg-dark)}

    #finishToggle{background: linear-gradient(45deg, var(--secondary-accent), #ff8000);border: none;padding:8px 12px;border-radius:12px;color:var(--text);font-weight:700;box-shadow:0 6px 18px rgba(255,0,255,0.08);cursor:pointer;}
    #yearToggle{margin-left:10px;padding:7px 10px;border-radius:10px;border:none;background:var(--accent);color:#041016;font-weight:700;cursor:pointer;box-shadow:0 6px 12px rgba(57,255,20,0.06);}

    .container{max-width:1150px;margin:28px auto;padding:0 18px}
    section{display:none;padding:18px 0}
    section.active{display:block; animation: fadeIn .4s ease both;}
    @keyframes fadeIn{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:none}}

    .welcome{height:58vh;display:flex;align-items:center;justify-content:center;border-radius:18px;background:linear-gradient(135deg, rgba(18,18,38,0.7), rgba(10,10,20,0.5)); text-align:center;box-shadow:0 6px 40px rgba(57,255,20,0.06);border:1px solid rgba(57,255,20,0.06);position:relative;overflow:hidden}
    .welcome .card{background:linear-gradient(180deg, rgba(10,10,26,0.6), rgba(20,10,40,0.4));padding:28px;border-radius:16px;max-width:820px;backdrop-filter:blur(6px);border:1px solid rgba(255,0,255,0.06)}
    .welcome h1{color:var(--accent);font-size:2rem;margin-bottom:8px}
    .small-muted{font-size:.95rem;color:rgba(255,255,255,0.7);margin-bottom:12px}

    .btn{background:linear-gradient(45deg,var(--accent),#7dff14);border:none;padding:12px 22px;border-radius:999px;color:#041016;font-weight:800;cursor:pointer;box-shadow:0 8px 28px rgba(57,255,20,0.08);transition: transform .15s}
    .btn:hover{transform:translateY(-3px)}

    .form-card{background:var(--card);padding:22px;border-radius:14px;max-width:640px;margin:10px auto;box-shadow:0 10px 36px rgba(255,0,255,0.04); border:1px solid rgba(255,0,255,0.04)}
    .form-card input,.form-card select{width:100%;padding:12px;border-radius:10px;border:1px solid rgba(255,0,255,0.06);margin-bottom:14px;font-size:1rem;background:#12122a;color:var(--accent)}
    .form-card button{width:100%;padding:14px;border-radius:12px;border:none;background:linear-gradient(45deg,var(--accent),#14a00e);color:#041016;font-weight:800;cursor:pointer;box-shadow:0 10px 30px rgba(57,255,20,0.06)}

    .games{display:flex;flex-wrap:wrap;gap:18px;justify-content:center;margin-bottom:18px}
    .game-card{background:var(--card);padding:16px;border-radius:14px;min-width:160px;text-align:center;box-shadow:0 8px 30px rgba(0,0,0,0.35);cursor:pointer;transition: transform .18s, box-shadow .18s;border:1px solid rgba(57,255,20,0.05)}
    .game-card:hover{transform:translateY(-8px); box-shadow:0 14px 44px rgba(57,255,20,0.06)}
    .game-card img{width:72px;height:72px;object-fit:cover;border-radius:50%;margin-bottom:10px;border:3px solid rgba(255,0,255,0.06)}
    .game-card div{color:var(--accent); font-weight:600}

    .team-table{width:100%;border-collapse:collapse;margin:18px 0;border-radius:12px;overflow:hidden;box-shadow:0 10px 30px rgba(0,0,0,0.3)}
    .team-table th{background:#071022;color:var(--accent);padding:12px;font-weight:700;text-transform:uppercase;border-bottom:2px solid rgba(255,0,255,0.06)}
    .team-table td{padding:10px;text-align:center;border-bottom:1px solid #111;font-weight:500;background:#161632;color:var(--text)}

    .controls button{margin-right:8px;padding:8px 12px;border-radius:8px;border:none;cursor:pointer;font-weight:700;background:var(--secondary-accent);color:#041016;transition:.15s}
    .controls button:hover{opacity:.95}

    .match-card{background:var(--card);padding:15px 20px;border-radius:12px;margin:12px auto;display:flex;justify-content:space-between;align-items:center;max-width:720px;box-shadow:0 12px 34px rgba(0,0,0,0.4);border:1px solid rgba(57,255,20,0.04)}
    .match-card .actions button{margin-left:8px;padding:8px 12px;border-radius:8px;border:none;cursor:pointer;background:var(--accent);color:#041016;font-weight:700}

    .standings{max-width:720px;margin:15px auto;padding:18px;border-radius:12px;background:var(--card);box-shadow:0 10px 34px rgba(0,0,0,0.36);border:1px solid rgba(255,0,255,0.04)}
    .champions-history{max-width:720px;margin:0 auto 30px;padding:20px;border-radius:16px;background:var(--card);box-shadow:0 10px 34px rgba(0,0,0,0.36);border:1px solid rgba(57,255,20,0.04)}

    .sport-block{margin-bottom:30px;padding:20px;border-radius:16px;background:#1a1a3a;box-shadow:0 6px 26px rgba(57,255,20,0.03)}
    .sport-block h3{margin-bottom:12px;color:var(--secondary-accent);text-align:center}

    footer{color:rgba(57,255,20,0.6);text-align:center;padding:18px 0;margin-top:18px}

    /* admin/login styles */
    #adminLogin {text-align:center;margin-top:20px;z-index:100}
    #adminPass{padding:10px;border-radius:8px;border:1px solid rgba(255,0,255,0.06);background:#12122a;color:var(--accent)}
    #logoutSection{display:none;text-align:center;margin-top:15px}
    #logoutSection button{padding:8px 14px;border:none;background:#ff4c4c;color:#fff;border-radius:8px;cursor:pointer}

    /* Responsive */
    @media (max-width:900px){header{padding:12px 16px} nav ul{gap:8px} .welcome{height:48vh}}
    @media (max-width:640px){.game-card{min-width:140px} .welcome h1{font-size:1.4rem}}
  </style>
</head>

<body>
  <div id="animated-bg"></div>

  <!-- Admin Login -->
  <div id="adminLogin" style="text-align:center; margin-top:20px;">
    <input type="password" id="adminPass" placeholder="Enter Admin Password" style="padding:8px; border-radius:8px;">
    <button onclick="checkAdmin()" style="padding:8px 14px; border:none; background:var(--accent); color:#041016; border-radius:8px; cursor:pointer; font-weight:700;">Login as Admin</button>
  </div>

  <!-- Header -->
  <header>
    <h1>College Sports Management</h1>
    <nav>
      <ul>
        <li><a onclick="showSection('home')" class="active">Home</a></li>
        <li><a onclick="showSection('players')">Players</a></li>
        <li><a onclick="showSection('about')">About</a></li>
        <li><a onclick="showSection('final')">Final Selected</a></li>
        <li><a onclick="showSection('tournament')">Tournament</a></li>
        <li><a onclick="showSection('history')">Champions History</a></li>
      </ul>
    </nav>
    <div>
      <button id="finishToggle">Finish Year</button>
      <select id="yearToggle"></select>
    </div>
  </header>

  <div class="container">
    <!-- Home -->
    <section id="home" class="active">
      <div class="welcome">
        <div class="card welcome-card">
          <h1>Welcome to College Sports Management</h1>
          <p class="small-muted">Add players, select final squads, run round-robin tournaments, and track champions history.</p>
          <div style="margin-top:16px">
            <button class="btn" onclick="showSection('players')">Manage Players</button>
          </div>
        </div>
      </div>
    </section>

    <!-- Players -->
    <section id="players">
      <h2 style="text-align:center;margin-bottom:12px; color: var(--accent);">Players Management</h2>
      <div class="form-card">
        <form id="playerForm">
          <input id="roll" type="number" placeholder="Roll Number" required />
          <input id="name" type="text" placeholder="Player Name" required />
          <select id="sport" required>
            <option value="">Select Sport</option>
            <option value="Volleyball">Volleyball</option>
            <option value="Basketball">Basketball</option>
            <option value="Cricket">Cricket</option>
            <option value="Football">Football</option>
          </select>
          <select id="team" required>
            <option value="">Select Team</option>
            <option value="Red">Red</option>
            <option value="Green">Green</option>
            <option value="Yellow">Yellow</option>
            <option value="Blue">Blue</option>
          </select>
          <input id="age" type="number" placeholder="Age" required />
          <button type="submit">Add Player</button>
        </form>
      </div>
    </section>

    <!-- About / Players By Sport -->
    <section id="about">
      <h2 style="text-align:center;margin-bottom:8px; color: var(--accent);">Players by Game & Team</h2>
      <p class="small-muted">Click a game to view registered players. Use <strong>Select</strong> to move player to Final Selected; <strong>Delete</strong> to remove.</p>
      <div class="games">
        <div class="game-card" data-sport="Volleyball"><img src="volley.jpg" alt="Volleyball"><div>Volleyball</div></div>
        <div class="game-card" data-sport="Basketball"><img src="basket ball.jpg" alt="Basketball"><div>Basketball</div></div>
        <div class="game-card" data-sport="Cricket"><img src="cricket.jpg" alt="Cricket"><div>Cricket</div></div>
        <div class="game-card" data-sport="Football"><img src="football.jpg" alt="Football"><div>Football</div></div>
      </div>
      <div id="sportPlayers"></div>
    </section>

    <!-- Final Selected -->
    <section id="final">
      <h2 style="text-align:center;margin-bottom:8px; color: var(--accent);">Final Selected Players</h2>
      <p class="small-muted">Click a game to view final selected players for each team.</p>
      <div class="games">
        <div class="game-card" data-sport="Volleyball"><img src="volley.jpg" alt="Volleyball"><div>Volleyball</div></div>
        <div class="game-card" data-sport="Basketball"><img src="basket ball.jpg" alt="Basketball"><div>Basketball</div></div>
        <div class="game-card" data-sport="Cricket"><img src="cricket.jpg" alt="Cricket"><div>Cricket</div></div>
        <div class="game-card" data-sport="Football"><img src="football.jpg" alt="Football"><div>Football</div></div>
      </div>
      <div id="finalPlayers"></div>
    </section>

    <!-- Tournament -->
    <section id="tournament">
      <h2 style="text-align:center;margin-bottom:8px; color: var(--accent);">Tournament</h2>
      <button class="toggle-btn" id="toggleTournament">Enable Matches</button>
      <p class="small-muted">Teams ranked after round-robin → Qualifier1 & Eliminator → Qualifier2 → Final.</p>
      <div id="tournamentContainer"></div>
    </section>

    <!-- Champions History -->
    <section id="history">
      <h2 style="text-align:center;margin-bottom:8px; color: var(--accent);">Champions History</h2>
      <div id="championsHistory" class="champions-history">
        <p style="text-align:center;color:var(--accent)">No champions yet for selected year.</p>
      </div>
    </section>
  </div>

  <!-- Logout Section -->
  <div id="logoutSection" style="display:none; text-align:center; margin-top:15px;">
    <button onclick="logoutAdmin()" style="padding:8px 14px; border:none; background:#ff4c4c; color:#fff; border-radius:8px; cursor:pointer;">
      Logout Admin
    </button>
  </div>

  <footer>© 2025 All rights reserved | Designed by Nalla Anikethan Reddy</footer>

  <!-- JavaScript -->
  <script>
    const STORAGE_KEYS = {
      PLAYERS:'csm_players_v1',
      FINAL:'csm_final_v1',
      MATCHES:'csm_matches_v6',
      STANDINGS:'csm_standings_v6',
      CHAMPIONS:'csm_champions_v1'
    };

    let players = [];
    let finalSelected = [];
    let matches = {};
    let standings = {};
    let champions = [];
    let tournamentEnabled = true;
    let selectedYear = new Date().getFullYear();

    function savePlayers(){ localStorage.setItem(STORAGE_KEYS.PLAYERS, JSON.stringify(players)); }
    function saveFinal(){ localStorage.setItem(STORAGE_KEYS.FINAL, JSON.stringify(finalSelected)); }
    function saveMatches(){ localStorage.setItem(STORAGE_KEYS.MATCHES, JSON.stringify(matches)); }
    function saveStandings(){ localStorage.setItem(STORAGE_KEYS.STANDINGS, JSON.stringify(standings)); }
    function saveChampions(){ localStorage.setItem(STORAGE_KEYS.CHAMPIONS, JSON.stringify(champions)); }

    function showSection(id){
      document.querySelectorAll('section').forEach(s=>s.classList.remove('active'));
      document.getElementById(id)?.classList.add('active');
      document.querySelectorAll('nav ul li a').forEach(a=>a.classList.remove('active'));
      const navLink=Array.from(document.querySelectorAll('nav ul li a')).find(x=>x.getAttribute('onclick')?.includes(id));
      navLink?.classList.add('active');
    }

    document.getElementById('playerForm').addEventListener('submit', e => {
      e.preventDefault();
      const roll = document.getElementById('roll').value.trim();
      const name = document.getElementById('name').value.trim();
      const sport = document.getElementById('sport').value;
      const team = document.getElementById('team').value;
      const age = document.getElementById('age').value;
      if(!roll || !name || !sport || !team){ alert('Please fill all fields'); return; }
      players.push({roll,name,sport,team,age});
      savePlayers();
      alert('Player added');
      e.target.reset();
      renderAbout(sport);
    });

    function renderAbout(sport){
      const container = document.getElementById('sportPlayers');
      container.innerHTML = `<h3 style="text-align:center;margin-bottom:10px; color: var(--secondary-accent);">${sport} Players</h3>`;
      container.innerHTML += `<p style="text-align:center;color:var(--accent);margin-top:10px">No registered players for ${sport} yet.</p>`;
    }

    window.selectPlayer = (sport, team, roll) => {};
    function renderFinal(sport){document.getElementById('finalPlayers').innerHTML = '<p style="text-align:center;color:var(--accent)">No final selected players for '+sport+' yet.</p>'}
    window.deletePlayer = (sport, team, roll) => {};

    function renderChampionsHistory(){
      const div = document.getElementById('championsHistory');
      div.innerHTML = '<p style="text-align:center;color:var(--accent)">No champions yet for selected year.</p>';
    }

    const yearSelect = document.getElementById('yearToggle');
    const currentYear = new Date().getFullYear();
    for(let y = currentYear - 5; y <= currentYear + 1; y++){
      const opt = document.createElement('option'); opt.value = y; opt.text = y; if(y === currentYear) opt.selected = true; yearSelect.appendChild(opt);
    }
    yearSelect.addEventListener('change', () => { selectedYear = parseInt(yearSelect.value); renderChampionsHistory(); });

    document.getElementById('finishToggle').addEventListener('click', () => {
      if(!confirm('Finish year and archive champions?')) return;
      players = []; finalSelected = []; matches = {}; standings = {};
      savePlayers(); saveFinal(); saveMatches(); saveStandings();
      renderAbout('Volleyball'); renderFinal('Volleyball'); renderTournament(); renderChampionsHistory();
      alert('Year finished. Champions archived.');
    });

    document.querySelectorAll('.game-card').forEach(card => {
      card.addEventListener('click', () => {
        const sport = card.getAttribute('data-sport');
        renderAbout(sport); renderFinal(sport); showSection('about');
      });
    });

    renderAbout('Volleyball'); renderFinal('Volleyball'); renderTournament(); renderChampionsHistory();

    let isAdmin = false;
    function checkAdmin() {
      const pass = document.getElementById("adminPass").value;
      if (pass === "Anikethan123") {
        isAdmin = true;
        alert("Admin access granted!");
        document.getElementById("adminLogin").style.display = "none";
        document.getElementById("logoutSection").style.display = "block";
        enableEditing(true);
      } else { alert("Incorrect password!"); }
    }
    function logoutAdmin() {
      isAdmin = false;
      alert("You are now logged out.");
      document.getElementById("adminLogin").style.display = "block";
      document.getElementById("logoutSection").style.display = "none";
      enableEditing(false);
    }
    function enableEditing(admin) {
      const form = document.getElementById("playerForm");
      const finishBtn = document.getElementById("finishToggle");
      const toggleTournament = document.getElementById("toggleTournament");
      if (admin) { form.style.display = "block"; finishBtn.style.display = "inline-block"; toggleTournament.style.display = "inline-block"; document.querySelectorAll("button").forEach(btn => btn.disabled = false); }
      else { form.style.display = "none"; finishBtn.style.display = "none"; toggleTournament.style.display = "none"; document.querySelectorAll(".form-card button, .team-table button, .match-card button").forEach(btn => btn.disabled = true); }
    }

    window.onload = () => { enableEditing(false); initParticles(); };

    function renderTournament(){
      const container = document.getElementById('tournamentContainer');
      container.innerHTML = '<p style="text-align:center;color:var(--accent)">No matches available. Select final players to enable tournament generation.</p>';
    }

    function generateMatchesFor(sport){ alert('Need at least 2 teams to generate matches'); }

  </script>

  <script src="https://cdn.jsdelivr.net/npm/three@0.156.1/build/three.min.js"></script>
  <script>
    let scene, camera, renderer, particles;
    const particleColor = 0x39ff14;
    function initParticles() {
      try {
        scene = new THREE.Scene();
        camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 1, 2000);
        camera.position.z = 1000;
        renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.domElement.style.position = 'fixed';
        renderer.domElement.style.top = '0';
        renderer.domElement.style.left = '0';
        document.getElementById('animated-bg').appendChild(renderer.domElement);

        const geometry = new THREE.BufferGeometry();
        const count = 1200;
        const positions = new Float32Array(count * 3);
        const sizeRange = 3200;
        for (let i = 0; i < count * 3; i++) positions[i] = (Math.random() - 0.5) * sizeRange;
        geometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));

        const material = new THREE.PointsMaterial({ color: particleColor, size: 3, transparent: true, opacity: 0.95, sizeAttenuation: true });
        particles = new THREE.Points(geometry, material);
        scene.add(particles);

        const pointLight = new THREE.PointLight(particleColor, 1.3, 2000);
        pointLight.position.set(0, 0, 0);
        scene.add(pointLight);

        animateParticles();
      } catch (err) { console.warn('Three.js init failed', err); }
    }

    function animateParticles() {
      requestAnimationFrame(animateParticles);
      if(particles){ particles.rotation.x += 0.00035; particles.rotation.y += 0.00055; }
      if(camera){ camera.position.x = Math.sin(Date.now() * 0.00005) * 440; camera.position.y = Math.cos(Date.now() * 0.00004) * 360; camera.lookAt(scene.position); }
      if(renderer && scene && camera) renderer.render(scene, camera);
    }

    window.addEventListener('resize', () => {
      if (!camera || !renderer) return;
      camera.aspect = window.innerWidth / window.innerHeight;
      camera.updateProjectionMatrix();
      renderer.setSize(window.innerWidth, window.innerHeight);
    });
  </script>
</body>
</html>
